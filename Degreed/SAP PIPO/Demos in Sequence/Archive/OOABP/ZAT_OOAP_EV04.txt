REPORT ZAT_OOAP_EV04.

"Same event in 2 different classes.

CLASS c1 DEFINITION.
  PUBLIC SECTION.
    "CREATING EVENT : E1
    EVENTS : e1.
    "CREATING AN EVENT HANDLING METHOD.
    METHODS : m1 FOR EVENT e1 OF c1.
    "METHOD TO RAISE THE EVENT
    METHODS : t1.
ENDCLASS.

CLASS c2 DEFINITION.
  PUBLIC SECTION.
    "CREATING AN EVENT HANDLING METHOD.
    METHODS : m2 FOR EVENT e1 OF c1.
ENDCLASS.

CLASS c1 IMPLEMENTATION.
  "METHOD : T1 WILL RAISE THE EVENT
  METHOD : t1.
    WRITE:/5 'I AM T1, GOING TO RAISE EVENT E1'.
    RAISE EVENT e1.
  ENDMETHOD.
  "METHOD : M1 WILL BE CALLED WHEN THE VENT IS RAISE
  METHOD : m1.
    WRITE:/5 ' I AM THE EVENT HANDLER METHOD M1 IN C1'.
  ENDMETHOD.
ENDCLASS.

CLASS c2 IMPLEMENTATION.
  "METHOD : M2 WILL BE CALLED WHEN THE EVENT IS RAISED
  METHOD : m2.
    WRITE:/5 'I AM THE EVENT HANDLER METHOD M2 IN C2'.
  ENDMETHOD.
ENDCLASS.

START-OF-SELECTION.
  DATA : oref1 TYPE REF TO c1,
         oref2 TYPE REF TO c2.
  CREATE OBJECT : oref1, oref2.
  "REGISTERING THE EVENT HANDLER METHOD
  SET HANDLER oref1->m1 FOR oref1.
  "CALLING THE EVENT WHICH WILL RAISE THE EVENT.
  "DE-REGISTERING THE EARLIER EVENT HANDLER METHOD
*  SET HANDLER oref1->m1 FOR oref1 ACTIVATION space.
*  "REGISTERING THE NEW EVENT HANDLER METHOD
  SET HANDLER oref2->m2 FOR oref1.
  "CALLING THE EVENT WHICH WILL RAISE THE VENT.
  CALL METHOD oref1->t1.